{
  "version": 3,
  "sources": ["../../../../../../node_modules/tinacms/dist/edit-state.es.js"],
  "sourcesContent": ["import { useEditState as useEditState$1, EditProvider, TinaDataContext } from \"@tinacms/sharedctx\";\nexport { isEditing, setEditing } from \"@tinacms/sharedctx\";\nimport React, { useState, useEffect } from \"react\";\nconst useEditState = useEditState$1;\nconst TinaEditProvider = ({\n  showEditButton,\n  ...props\n}) => {\n  return /* @__PURE__ */ React.createElement(EditProvider, null, showEditButton && /* @__PURE__ */ React.createElement(ToggleButton, null), /* @__PURE__ */ React.createElement(TinaEditProviderInner, {\n    ...props\n  }));\n};\nfunction useTina({\n  query,\n  variables,\n  data\n}) {\n  React.useEffect(() => {\n    console.warn(`\n  \"useTina\" from 'tinacms/dist/edit-state' is now deprecated\n  * Use \"import { useTina } from 'tinacms/dist/react\" instead.\n  * See https://tina.io/blog/upgrading-to-iframe/ for full migration details\n  `);\n  }, []);\n  const {\n    setRequest,\n    state,\n    isDummyContainer,\n    isLoading: contextLoading\n  } = React.useContext(TinaDataContext);\n  const [waitForContextRerender, setWaitForContextRerender] = useState(!isDummyContainer);\n  const isLoading = contextLoading || waitForContextRerender;\n  React.useEffect(() => {\n    setRequest({ query, variables });\n  }, [JSON.stringify(variables), query]);\n  useEffect(() => {\n    if (!isDummyContainer) {\n      setTimeout(() => setWaitForContextRerender(false), 0);\n    }\n    return () => {\n      setRequest(void 0);\n    };\n  }, [isDummyContainer]);\n  return {\n    data: isDummyContainer || isLoading ? data : state.payload,\n    isLoading\n  };\n}\nconst ToggleButton = () => {\n  const { edit } = useEditState();\n  const [isOnAdmin, setIsOnAdmin] = React.useState(false);\n  React.useEffect(() => {\n    var _a;\n    if (window) {\n      if ((_a = window.location) == null ? void 0 : _a.pathname.startsWith(\"/admin\")) {\n        setIsOnAdmin(true);\n      }\n    }\n  }, [setIsOnAdmin]);\n  return edit || isOnAdmin ? null : /* @__PURE__ */ React.createElement(\"div\", {\n    style: { position: \"fixed\", bottom: \"56px\", left: \"0px\", zIndex: 200 }\n  }, /* @__PURE__ */ React.createElement(\"a\", {\n    href: \"/admin\",\n    style: {\n      borderRadius: \"0 50px 50px 0\",\n      fontSize: \"16px\",\n      fontFamily: \"Inter, 'Helvetica Neue', 'Arial Nova', Helvetica, Arial, sans-serif\",\n      fontWeight: \"bold\",\n      textDecoration: \"none\",\n      background: \"rgb(34, 150, 254)\",\n      boxShadow: \"0px 1px 3px rgb(0 0 0 / 10%), 0px 2px 6px rgb(0 0 0 / 20%)\",\n      color: \"white\",\n      padding: \"14px 20px\",\n      border: \"none\"\n    }\n  }, \"Edit with Tina\"));\n};\nconst TinaEditProviderInner = ({ children, editMode }) => {\n  const { edit } = useEditState();\n  const [isBrowser, setIsBrowser] = React.useState(false);\n  React.useEffect(() => {\n    setIsBrowser(true);\n  }, []);\n  if (edit && isBrowser) {\n    return editMode;\n  }\n  return children;\n};\nexport { TinaEditProvider, useEditState, useTina };\n"],
  "mappings": ";;;;;;;;;;;;;;;AAEA,mBAA2C;AAC3C,IAAMA,gBAAe;AACrB,IAAM,mBAAmB,CAAC;AAAA,EACxB;AAAA,KACG;AACL,MAAM;AACJ,SAAuB,aAAAC,QAAM,cAAc,cAAc,MAAM,kBAAkC,aAAAA,QAAM,cAAc,cAAc,IAAI,GAAmB,aAAAA,QAAM,cAAc,uBAAuB;AAAA,IACnM,GAAG;AAAA,EACL,CAAC,CAAC;AACJ;AACA,SAAS,QAAQ;AAAA,EACf;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,eAAAA,QAAM,UAAU,MAAM;AACpB,YAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,GAId;AAAA,EACD,GAAG,CAAC,CAAC;AACL,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA,WAAW;AAAA,EACb,IAAI,aAAAA,QAAM,WAAW,eAAe;AACpC,QAAM,CAAC,wBAAwB,yBAAyB,QAAI,uBAAS,CAAC,gBAAgB;AACtF,QAAM,YAAY,kBAAkB;AACpC,eAAAA,QAAM,UAAU,MAAM;AACpB,eAAW,EAAE,OAAO,UAAU,CAAC;AAAA,EACjC,GAAG,CAAC,KAAK,UAAU,SAAS,GAAG,KAAK,CAAC;AACrC,8BAAU,MAAM;AACd,QAAI,CAAC,kBAAkB;AACrB,iBAAW,MAAM,0BAA0B,KAAK,GAAG,CAAC;AAAA,IACtD;AACA,WAAO,MAAM;AACX,iBAAW,MAAM;AAAA,IACnB;AAAA,EACF,GAAG,CAAC,gBAAgB,CAAC;AACrB,SAAO;AAAA,IACL,MAAM,oBAAoB,YAAY,OAAO,MAAM;AAAA,IACnD;AAAA,EACF;AACF;AACA,IAAM,eAAe,MAAM;AACzB,QAAM,EAAE,KAAK,IAAID,cAAa;AAC9B,QAAM,CAAC,WAAW,YAAY,IAAI,aAAAC,QAAM,SAAS,KAAK;AACtD,eAAAA,QAAM,UAAU,MAAM;AACpB,QAAI;AACJ,QAAI,QAAQ;AACV,WAAK,KAAK,OAAO,aAAa,OAAO,SAAS,GAAG,SAAS,WAAW,QAAQ,GAAG;AAC9E,qBAAa,IAAI;AAAA,MACnB;AAAA,IACF;AAAA,EACF,GAAG,CAAC,YAAY,CAAC;AACjB,SAAO,QAAQ,YAAY,OAAuB,aAAAA,QAAM,cAAc,OAAO;AAAA,IAC3E,OAAO,EAAE,UAAU,SAAS,QAAQ,QAAQ,MAAM,OAAO,QAAQ,IAAI;AAAA,EACvE,GAAmB,aAAAA,QAAM,cAAc,KAAK;AAAA,IAC1C,MAAM;AAAA,IACN,OAAO;AAAA,MACL,cAAc;AAAA,MACd,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,gBAAgB;AAAA,MAChB,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,OAAO;AAAA,MACP,SAAS;AAAA,MACT,QAAQ;AAAA,IACV;AAAA,EACF,GAAG,gBAAgB,CAAC;AACtB;AACA,IAAM,wBAAwB,CAAC,EAAE,UAAU,SAAS,MAAM;AACxD,QAAM,EAAE,KAAK,IAAID,cAAa;AAC9B,QAAM,CAAC,WAAW,YAAY,IAAI,aAAAC,QAAM,SAAS,KAAK;AACtD,eAAAA,QAAM,UAAU,MAAM;AACpB,iBAAa,IAAI;AAAA,EACnB,GAAG,CAAC,CAAC;AACL,MAAI,QAAQ,WAAW;AACrB,WAAO;AAAA,EACT;AACA,SAAO;AACT;",
  "names": ["useEditState", "React"]
}
